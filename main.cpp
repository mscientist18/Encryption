#include<bits/stdc++.h>
#include "cipher.cpp"
#define SIZE 1000
typedef long long ll;
using namespace std;

int main()
{
   double matrix[10][7][3]={{{0.05069003, 0.36616304, 0.42127143},
  {0.96901138 ,0.42295938 ,0.60974751},
  {0.63705868 ,0.06246557 ,0.25923861},
  {0.13663669 ,0.4168354  ,0.89127252},
  {0.62506765 ,0.95064034 ,0.84598123},
  {0.61637028 ,0.29617768 ,0.5010152 },
  {0.45615807 ,0.51718016 ,0.40905444}},

 {{0.13742351, 0.47323748, 0.86198892},
  {0.92771499, 0.7394359 , 0.03537208},
  {0.02727398, 0.03538742, 0.75758752},
  {0.02246875, 0.98690382, 0.71159279},
  {0.52987653, 0.73875453, 0.06122613},
  {0.02166215, 0.6748028 , 0.36628902},
  {0.8827094 , 0.59206442, 0.85803156}},

 {{0.38313867, 0.26373113, 0.18367856},
  {0.33672754, 0.81856442, 0.39228355},
  {0.88841269, 0.23283697, 0.92244291},
  {0.4197043 , 0.51028033, 0.77108415},
  {0.71188823, 0.13520532, 0.51627829},
  {0.6602769 , 0.94598109, 0.62900423},
  {0.67468854, 0.44257912, 0.75315263}},

 {{0.4363187 , 0.09360546, 0.0863728 },
  {0.35899455, 0.2153103 , 0.16764321},
  {0.65158915, 0.70703254, 0.5339362 },
  {0.71187811, 0.10243149, 0.66868353},
  {0.25893732, 0.03925226, 0.67056452},
  {0.77025323, 0.1623007 , 0.12702842},
  {0.38783244, 0.25224423, 0.80964625}},

 {{0.87371011, 0.4993036 , 0.61473811},
  {0.32684289, 0.27745303, 0.21078229},
  {0.58134221, 0.57735669, 0.80388375},
  {0.36353712, 0.63360522, 0.42065566},
  {0.22950973, 0.43653046, 0.11200445},
  {0.81607124, 0.34949062, 0.88349434},
  {0.03067023, 0.32331619, 0.14950723}},

 {{0.72712547, 0.54634351, 0.94077172},
  {0.68921123, 0.59597474, 0.1551815 },
  {0.55979165, 0.77053839, 0.41276944},
  {0.6652506 , 0.40893767, 0.36252049},
  {0.32486815, 0.92710233, 0.04882619},
  {0.93899839, 0.86316497, 0.04393814},
  {0.11031282, 0.9491483 , 0.84428177}},

 {{0.16261457, 0.30165579, 0.53274658},
  {0.9801919 , 0.2012346 , 0.655902  },
  {0.9722358 , 0.13675452, 0.83321371},
  {0.53495635, 0.83563479, 0.39503813},
  {0.8157077 , 0.07246711, 0.60176212},
  {0.94501179, 0.18935977, 0.93770005},
  {0.77071135, 0.68508559, 0.29536121}},

 {{0.62302383, 0.57995431, 0.8496571 },
  {0.6309308 , 0.15427086, 0.53065981},
  {0.29846917, 0.3383801 , 0.49099985},
  {0.93724656, 0.79219801, 0.01794776},
  {0.68954692, 0.30350646, 0.30023895},
  {0.16511632, 0.50881219, 0.47469358},
  {0.94553759, 0.77961235, 0.51090084}},

 {{0.57495173, 0.07091374, 0.2360224 },
  {0.41874166, 0.12088947, 0.41911729},
  {0.49574634, 0.62733321, 0.63081031},
  {0.96149494, 0.18395065, 0.19885946},
  {0.35750784, 0.96379907, 0.13806413},
  {0.25763409, 0.43585252, 0.676792  },
  {0.3388681 , 0.08483719, 0.15348013}},

 {{0.4706404 , 0.63786074, 0.01995255},
  {0.21783662, 0.51403762, 0.91327129},
  {0.02872255, 0.06121094, 0.22931071},
  {0.57485416, 0.58702764, 0.58662907},
  {0.16135924, 0.71430424, 0.05430339},
  {0.30960984, 0.60882748, 0.05441387},
  {0.47504427, 0.36253566, 0.71613439}}};
  						
  	double *point=&matrix[0][0][0];
  	cout<<"Original Matrix"<<"\n";
  	cout<<"[";
	for(int x=0;x<10;x++)
	{
		cout<<"["<<"\n";
		for ( int i = 0; i < 7; i++ )
		{
			cout<<"[";
		    for ( int j = 0; j < 3; j++ )
		    { 
		    	cout <<setprecision(8)<< *point<<setw(5)<<"	" ;
		    	point++;
		   	}
		   	cout<<"]"<<"\n";
		}
		cout<<"]";
    }
    cout<<"]";
    cout<<"\n"<<"\n";		   
	int size[3]={10,7,3};
	char key1[1000]="FirstnameLastnameEmailID@Something.com";
	int duration=5;
	double *image1=encrypt(&matrix[0][0][0],key1,duration,size);
	double *prn=image1;
	cout<<"Encrypted Matrix"<<"\n";
	cout<<"[";
	for(int x=0;x<10;x++)
	{
		cout<<"["<<"\n";
		for ( int i = 0; i < 7; i++ )
		{
		    for ( int j = 0; j < 3; j++ )
		    { 
		    	cout <<setprecision(8)<< *image1<<setw(5)<<"	" ;
		    	image1++;
		   	}
		   	cout<<"]"<<"\n";
		}
		cout<<"]";
    }
    cout<<"]"<<"\n"<<"\n";
    
	double *image2=decrypt(prn,key1,duration,size);
    cout<<"Decrypted Matrix"<<"\n";
    cout<<"[";
    for(int x=0;x<10;x++)
	{
		cout<<"["<<"\n";
		for ( int i = 0; i < 7; i++ )
		{
		    for ( int j = 0; j < 3; j++ )
		    { 
		    	cout <<setprecision(8)<< *image2<<setw(5)<<"	" ;
		    	image2++;
		   	}
		   	cout<<"]"<<"\n";
		}
		cout<<"]";
    }
    cout<<"]";
}
